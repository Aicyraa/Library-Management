<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="stylesheet" href="style.css">
      <script type="module" src="script.js"></script>
      <title>E-Book Library</title>
   </head>
   <body>
      <!-- Header -->
      <header class="header">
         <div class="header-left">
            <div class="logo">
               <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                  <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  <line x1="8" y1="6" x2="16" y2="6"></line>
                  <line x1="8" y1="10" x2="16" y2="10"></line>
                  <line x1="8" y1="14" x2="12" y2="14"></line>
               </svg>
            </div>
            <div class="header-title">
               <h1>E-Book Library</h1>
               <p>Manage and track your reading journey</p>
            </div>
         </div>
         <button class="toggle-filters-btn" id="toggleFiltersBtn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
               <circle cx="11" cy="11" r="8"></circle>
               <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <span id="toggleFiltersText">Hide Filters</span>
         </button>
      </header>

      <div class="main-container">
         <!-- Sidebar -->
         <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
               <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="4" y1="21" x2="4" y2="14"></line>
                  <line x1="4" y1="10" x2="4" y2="3"></line>
                  <line x1="12" y1="21" x2="12" y2="12"></line>
                  <line x1="12" y1="8" x2="12" y2="3"></line>
                  <line x1="20" y1="21" x2="20" y2="16"></line>
                  <line x1="20" y1="12" x2="20" y2="3"></line>
                  <line x1="1" y1="14" x2="7" y2="14"></line>
                  <line x1="9" y1="8" x2="15" y2="8"></line>
                  <line x1="17" y1="16" x2="23" y2="16"></line>
               </svg>
               <span>Filters</span>
            </div>

            <div class="sidebar-content">
               <!-- Search -->
               <div class="filter-section">
                  <div class="filter-label">
                     <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                     </svg>
                     <span>Search Books</span>
                  </div>
                  <div class="search-input-wrapper">
                     <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                     </svg>
                     <input type="text" id="searchInput" placeholder="Search by title or author...">
                  </div>
               </div>

               <!-- Sort -->
               <div class="filter-section">
                  <div class="filter-label">Sort By</div>
                  <select id="sortSelect" class="filter-select">
                     <option value="title-asc">Title (A-Z)</option>
                     <option value="title-desc">Title (Z-A)</option>
                     <option value="author-asc">Author (A-Z)</option>
                     <option value="author-desc">Author (Z-A)</option>
                     <option value="progress-asc">Progress (Low-High)</option>
                     <option value="progress-desc">Progress (High-Low)</option>
                  </select>
               </div>

               <!-- Category Filter -->
               <div class="filter-section">
                  <div class="filter-label">Filter by Category</div>
                  <div class="category-filters" id="categoryFilters">
                     <label class="checkbox-label">
                        <input type="checkbox" value="all" checked>
                        <span class="checkmark"></span>
                        <span>All</span>
                     </label>
                     <label class="checkbox-label">
                        <input type="checkbox" value="Fiction">
                        <span class="checkmark"></span>
                        <span>Fiction</span>
                     </label>
                     <label class="checkbox-label">
                        <input type="checkbox" value="Self-Help">
                        <span class="checkmark"></span>
                        <span>Self-Help</span>
                     </label>
                     <label class="checkbox-label">
                        <input type="checkbox" value="History">
                        <span class="checkmark"></span>
                        <span>History</span>
                     </label>
                     <label class="checkbox-label">
                        <input type="checkbox" value="Finance">
                        <span class="checkmark"></span>
                        <span>Finance</span>
                     </label>
                     <label class="checkbox-label">
                        <input type="checkbox" value="Biography">
                        <span class="checkmark"></span>
                        <span>Biography</span>
                     </label>
                     <label class="checkbox-label">
                        <input type="checkbox" value="Thriller">
                        <span class="checkmark"></span>
                        <span>Thriller</span>
                     </label>
                     <label class="checkbox-label">
                        <input type="checkbox" value="Sci-Fi">
                        <span class="checkmark"></span>
                        <span>Sci-Fi</span>
                     </label>
                     <label class="checkbox-label">
                        <input type="checkbox" value="Psychology">
                        <span class="checkmark"></span>
                        <span>Psychology</span>
                     </label>
                  </div>
               </div>
            </div>

            <button class="collapse-btn" id="collapseBtn">
               <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="15 18 9 12 15 6"></polyline>
               </svg>
               <span>Collapse</span>
            </button>
         </aside>

         <!-- Collapsed Sidebar -->
         <aside class="sidebar-collapsed" id="sidebarCollapsed">
            <button class="expand-btn" id="expandBtn">
               <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="4" y1="21" x2="4" y2="14"></line>
                  <line x1="4" y1="10" x2="4" y2="3"></line>
                  <line x1="12" y1="21" x2="12" y2="12"></line>
                  <line x1="12" y1="8" x2="12" y2="3"></line>
                  <line x1="20" y1="21" x2="20" y2="16"></line>
                  <line x1="20" y1="12" x2="20" y2="3"></line>
                  <line x1="1" y1="14" x2="7" y2="14"></line>
                  <line x1="9" y1="8" x2="15" y2="8"></line>
                  <line x1="17" y1="16" x2="23" y2="16"></line>
               </svg>
            </button>
            <button class="expand-arrow" id="expandArrow">
               <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="9 18 15 12 9 6"></polyline>
               </svg>
            </button>
         </aside>

         <!-- Main Content -->
         <main class="main-content" id="mainContent">
            <div class="content-header">
               <h2>Your Books (<span id="bookCount">0</span>)</h2>
               <button class="add-book-btn" id="addBookBtn">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                     <line x1="12" y1="5" x2="12" y2="19"></line>
                     <line x1="5" y1="12" x2="19" y2="12"></line>
                  </svg>
                  <span>Add Book</span>
               </button>
            </div>

            <div class="books-grid" id="booksGrid">
               <!-- Book cards will be rendered here -->
            </div>

            <!-- Reading Statistics -->
            <div class="stats-section" id="statsSection">
               <h3>Reading Statistics</h3>
               <div class="stats-grid">
                  <div class="stat-card">
                     <div class="stat-icon total">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                           <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                           <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                        </svg>
                     </div>
                     <div class="stat-info">
                        <span class="stat-label">Total Books</span>
                        <span class="stat-value" id="totalBooks">0</span>
                     </div>
                  </div>
                  <div class="stat-card">
                     <div class="stat-icon completed">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                           <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                           <polyline points="22 4 12 14.01 9 11.01"></polyline>
                        </svg>
                     </div>
                     <div class="stat-info">
                        <span class="stat-label">Completed</span>
                        <span class="stat-value" id="completedBooks">0</span>
                     </div>
                  </div>
                  <div class="stat-card">
                     <div class="stat-icon in-progress">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                           <circle cx="12" cy="12" r="10"></circle>
                           <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                     </div>
                     <div class="stat-info">
                        <span class="stat-label">In Progress</span>
                        <span class="stat-value" id="inProgressBooks">0</span>
                     </div>
                  </div>
                  <div class="stat-card">
                     <div class="stat-icon avg-progress">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                           <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                           <polyline points="17 6 23 6 23 12"></polyline>
                        </svg>
                     </div>
                     <div class="stat-info">
                        <span class="stat-label">Avg Progress</span>
                        <span class="stat-value" id="avgProgress">0%</span>
                     </div>
                  </div>
               </div>
            </div>
         </main>
      </div>

      <!-- Add Book Modal -->
      <div class="modal-overlay" id="modalOverlay">
         <div class="modal">
            <button class="modal-close" id="modalClose">
               <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="18" y1="6" x2="6" y2="18"></line>
                  <line x1="6" y1="6" x2="18" y2="18"></line>
               </svg>
            </button>
            <h2>Add New Book</h2>
            <p class="modal-subtitle">Add a new book to your library. Fill in the details below.</p>

            <form id="addBookForm">
               <div class="form-group">
                  <label for="bookTitle">Title <span class="required">*</span></label>
                  <input type="text" id="bookTitle" placeholder="Enter book title" required>
               </div>

               <div class="form-group">
                  <label for="bookAuthor">Author <span class="required">*</span></label>
                  <input type="text" id="bookAuthor" placeholder="Enter author name" required>
               </div>

               <div class="form-row">
                  <div class="form-group">
                     <label for="bookPages">Pages <span class="required">*</span></label>
                     <input type="number" id="bookPages" min="1" value="1" required>
                  </div>
                  <div class="form-group">
                     <label for="bookProgress">Progress (%)</label>
                     <input type="number" id="bookProgress" min="0" max="100" value="0">
                  </div>
               </div>

               <div class="form-group">
                  <label for="bookCategory">Category <span class="required">*</span></label>
                  <select id="bookCategory" required>
                     <option value="">Select a category</option>
                     <option value="Fiction">Fiction</option>
                     <option value="Self-Help">Self-Help</option>
                     <option value="History">History</option>
                     <option value="Finance">Finance</option>
                     <option value="Biography">Biography</option>
                     <option value="Thriller">Thriller</option>
                     <option value="Sci-Fi">Sci-Fi</option>
                     <option value="Psychology">Psychology</option>
                  </select>
               </div>

               <div class="form-group">
                  <label>Cover Color</label>
                  <div class="color-picker" id="colorPicker">
                     <button type="button" class="color-option selected" data-color="#6366f1" style="background-color: #6366f1;"></button>
                     <button type="button" class="color-option" data-color="#22c55e" style="background-color: #22c55e;"></button>
                     <button type="button" class="color-option" data-color="#ef4444" style="background-color: #ef4444;"></button>
                     <button type="button" class="color-option" data-color="#f97316" style="background-color: #f97316;"></button>
                     <button type="button" class="color-option" data-color="#a855f7" style="background-color: #a855f7;"></button>
                     <button type="button" class="color-option" data-color="#64748b" style="background-color: #64748b;"></button>
                     <button type="button" class="color-option" data-color="#06b6d4" style="background-color: #06b6d4;"></button>
                     <button type="button" class="color-option" data-color="#ec4899" style="background-color: #ec4899;"></button>
                     <button type="button" class="color-option" data-color="#10b981" style="background-color: #10b981;"></button>
                     <button type="button" class="color-option" data-color="#84cc16" style="background-color: #84cc16;"></button>
                     <button type="button" class="color-option" data-color="#3b82f6" style="background-color: #3b82f6;"></button>
                     <button type="button" class="color-option" data-color="#7f1d1d" style="background-color: #7f1d1d;"></button>
                  </div>
                  <input type="hidden" id="bookColor" value="#6366f1">
               </div>

               <div class="form-actions">
                  <button type="button" class="btn-cancel" id="cancelBtn">Cancel</button>
                  <button type="submit" class="btn-submit">Add Book</button>
               </div>
            </form>
         </div>
      </div>

      <!-- Edit Book Modal -->
      <div class="modal-overlay" id="editModalOverlay">
         <div class="modal">
            <button class="modal-close" id="editModalClose">
               <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="18" y1="6" x2="6" y2="18"></line>
                  <line x1="6" y1="6" x2="18" y2="18"></line>
               </svg>
            </button>
            <h2>Edit Book</h2>
            <p class="modal-subtitle">Update the book details below.</p>

            <form id="editBookForm">
               <input type="hidden" id="editBookId">

               <div class="form-group">
                  <label for="editBookTitle">Title <span class="required">*</span></label>
                  <input type="text" id="editBookTitle" placeholder="Enter book title" required>
               </div>

               <div class="form-group">
                  <label for="editBookAuthor">Author <span class="required">*</span></label>
                  <input type="text" id="editBookAuthor" placeholder="Enter author name" required>
               </div>

               <div class="form-row">
                  <div class="form-group">
                     <label for="editBookPages">Pages <span class="required">*</span></label>
                     <input type="number" id="editBookPages" min="1" value="1" required>
                  </div>
                  <div class="form-group">
                     <label for="editBookProgress">Progress (%)</label>
                     <input type="number" id="editBookProgress" min="0" max="100" value="0">
                  </div>
               </div>

               <div class="form-group">
                  <label for="editBookCategory">Category <span class="required">*</span></label>
                  <select id="editBookCategory" required>
                     <option value="">Select a category</option>
                     <option value="Fiction">Fiction</option>
                     <option value="Self-Help">Self-Help</option>
                     <option value="History">History</option>
                     <option value="Finance">Finance</option>
                     <option value="Biography">Biography</option>
                     <option value="Thriller">Thriller</option>
                     <option value="Sci-Fi">Sci-Fi</option>
                     <option value="Psychology">Psychology</option>
                  </select>
               </div>

               <div class="form-group">
                  <label>Cover Color</label>
                  <div class="color-picker" id="editColorPicker">
                     <button type="button" class="color-option" data-color="#6366f1" style="background-color: #6366f1;"></button>
                     <button type="button" class="color-option" data-color="#22c55e" style="background-color: #22c55e;"></button>
                     <button type="button" class="color-option" data-color="#ef4444" style="background-color: #ef4444;"></button>
                     <button type="button" class="color-option" data-color="#f97316" style="background-color: #f97316;"></button>
                     <button type="button" class="color-option" data-color="#a855f7" style="background-color: #a855f7;"></button>
                     <button type="button" class="color-option" data-color="#64748b" style="background-color: #64748b;"></button>
                     <button type="button" class="color-option" data-color="#06b6d4" style="background-color: #06b6d4;"></button>
                     <button type="button" class="color-option" data-color="#ec4899" style="background-color: #ec4899;"></button>
                     <button type="button" class="color-option" data-color="#10b981" style="background-color: #10b981;"></button>
                     <button type="button" class="color-option" data-color="#84cc16" style="background-color: #84cc16;"></button>
                     <button type="button" class="color-option" data-color="#3b82f6" style="background-color: #3b82f6;"></button>
                     <button type="button" class="color-option" data-color="#7f1d1d" style="background-color: #7f1d1d;"></button>
                  </div>
                  <input type="hidden" id="editBookColor" value="#6366f1">
               </div>

               <div class="form-actions">
                  <button type="button" class="btn-delete" id="deleteBookBtn">Delete</button>
                  <button type="submit" class="btn-submit">Save Changes</button>
               </div>
            </form>
         </div>
      </div>
   </body>
</html>
